---
title: Основной макет оформления отчетов индивидуально для пользователя (8.3.22)
date: 2023-05-26 10:00:00 +/-TTTT
description: В платформе 8.3.22 появилась новая возможность установки основного макета оформления для всех отчетов. И даже индивидуально для пользователя.
media_subpath: /assets/posts/articles/2023-05-26-osnovnoy-maket-skd/
categories: [Статьи]
tags: [1С, Статьи, Желтый Чайник 1С]
image:
  path: cover.jpg
  in_post: false
links:
  top: true
  bottom: true
  values:
  - name: Статья на Infostart
    url: https://infostart.ru/public/1870559/?ref=1159
  - name: Пост в Telegram
    url: https://t.me/JuniorOneS/546
---

## Новая возможность

Помните эти макеты, которые можно выбрать в каждом отчете отдельно?

![](01.png)

В платформе 8.3.22 появилась возможность указать основной макет, который будет применяться во всех отчетах, в которых этот параметр не переопределен.

![](02.png)

![](03.png)

И обычно на этом упоминание новой возможности заканчивается... Ведь не особо удобно устанавливать всем пользователям разом какой-то непривычный макет да ещё и свойством конфигурации без возможности изменения расширением. Мало возможностей. 

Но если внимательно читать список изменений, то оказывается, что нам добавили ещё и новый объект платформы для программного изменения основного макета:

![](04.png)

В новой возможности можно:

- Установить программно общий основной макет оформления. Он будет применен поверх того макета, который установлен в свойствах конфигурации. 
- Установить программно основной макет **для конкретного пользователя**. То есть если раньше пользователь, который любит макет оформления "Античный", вручную устанавливал его во всех используемых отчетах (а потом ещё и актуализировал свои варианты, которые могут измениться в конфигурации), то теперь это можно сделать разом одной строчкой кода и даже без необходимости перезапуска сеанса. Согласитесь, это куда лучше расширения =)

## Инструмент для управления оформлением

![](05.png)

На скриншоте пример инструмента, который позволяет в режиме предприятия:

- Установить общий основной макет оформления для всех пользователей
- Установить основной макет оформления для себя (текущего пользователя)
- Если вы администратор, то появляется возможность установить макеты оформления для других пользователей. Т.е. администрировать настройки в базе.

Инструмент просто использует описанные выше возможности. Вы можете сделать такой же сами, или же скачать его.

[Обработка находится в составе проекта обзора новых возможностей платформы]({% link _posts/projects/2023-06-27-ExamplesOneS.md %})

## Нюансы

Однако, у новой возможности есть и нюанс. 

**Основной макет оформления будет применяться для всех формирований СКД.**

Это значит, что если вы где-то программно формируете табличный документ при помощи СКД, то он окрасится в выбранный для пользователя макет. Даже если предполагалось, что это какая-то печатная форма =)

Решение проблемы - в таких случаях необходимо указывать в настройках СКД нужный макет оформления. Конечно, логично было бы так делать и раньше, но из-за отсутствия возможности переопределения основного оформления не все заморачивались

![](cover.jpg)

Есть ещё один небольшой нюанс. Если вызвать метод установки и передать в него имя несуществующего макета, то платформа не выдаст ошибок. И даже потом при получении имени макета будет возвращать переданную вами строку. Словно макет такой есть и установлен. А по факту пользователь просто получит стандартный отчет. И можно не узнать о проблеме, ведь это никак не проверяется на уровне платформы.

Ну и напоминаю, что можно в конфигурацию добавить полностью свой макет оформления отчетов и настроить его как душе угодно

![](06.png)