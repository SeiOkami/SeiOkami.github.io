---
title: Скрытый тип "ОсновнойЭлементФормы"
date: 2022-12-29 01:22:00 +/-TTTT
media_subpath: /assets/posts/notes/2022-12-29-skritiy-tip-osnovnoy-element/
categories: [Заметки]
tags: [1С, Заметки, Желтый Чайник 1С]
image:
  path: 01.jpg
  in_post: false
links:
  top: true
  bottom: false
  values:
  - name: Пост в Telegram
    url: https://t.me/JuniorOneS/445
---

В 1С есть много всякого скрытого и недокументированного. 
Небольшой примерчик - тип "ОсновнойЭлементФормы". 

В управляемой форме есть свойство "ТекущийЭлемент". По синтаксис-помощнику оно имеет составной тип из разного вида элементов (скрин1).

![](01.jpg)

Но на самом деле, иногда там может оказаться нечто особенное. "ОсновнойЭлементФормы".

Его нет в справке. Гугл находит только несколько жалоб программистов на его появление. И вот [это обсуждение](https://partners.v8.1c.ru/forum/topic/1830402) на партнерском форуме (скрин2)

![](02.jpg)

Выглядит он странно. Похож толи на саму форму, толи на какую-то группу, но при этом не имеет некоторых свойств. Например, "Имя" и "Элементы" (скрин3). Из-за чего какой-то код, который на это не рассчитан, может упасть в ошибку.

![](03.jpg)

Если попытаться проверить его тип, то возвращается "Макет формы" (скрин4). 

![](04.jpg)

Самый простой способ его получить - создать обработку с формой, на которой не будет элементов. У такой формы текущий элемент будет обсуждаемого типа. Но иногда он возникает из-за игр с ограничением доступности элементов. Когда платформа считает, что "текущим" нельзя назначить ни один элемент. Тогда в свойство попадает наш полтергейст. Потому что пустым свойство быть не может)